{"version":3,"file":"cableTV_controller.js","names":["Object","defineProperty","exports","value","default","_models","_interopRequireDefault","require","_response","_cableTV_validator","obj","__esModule","_defineProperty","key","_toPropertyKey","enumerable","configurable","writable","t","i","_toPrimitive","r","e","Symbol","toPrimitive","call","TypeError","String","Number","CableTVs","models","CableTVController","req","res","requestBody","body","error","CableTVValidator","createCableTVSchema","validate","response","Response","message","status","code","json","cableTV","create","console","log","cableTVs","findAll","length","params","findOne","where","provider_id","_default"],"sources":["../../src/controllers/cableTV_controller.js"],"sourcesContent":["\"use strict\";\n\nimport models from \"../database/models\";\nimport Response from \"../utils/response\";\nimport CableTVValidator from \"../utils/validators/cableTV_validator\";\n\nconst { CableTVs } = models;\n\n/**\n * @class CableTVController\n **/\nclass CableTVController {\n\n    /**\n     * @function createCableTV (Create a new cable tv).\n     **/\n    static createCableTV = async (req, res) => {\n        try {\n            const requestBody = req.body;\n            // console.log(\"REQUEST PAYLOAD::: \", requestBody);\n\n            //  Validate the Request Body.\n            const {error, value} = CableTVValidator.createCableTVSchema.validate(requestBody);\n            if (error) {\n                const response = new Response(\n                    false,\n                    400,\n                    `${error.message}`\n                );\n                return res.status(response.code).json(response);\n            }\n\n            const cableTV = await CableTVs.create({ ...value });\n            if (!cableTV) {\n                const response = new Response(\n                    false,\n                    409,\n                    \"Failed to create cable tv.\"\n                );\n                return res.status(response.code).json(response);\n            }\n\n            const response = new Response(\n                true,\n                201,\n                'Cable tv created successfully.',\n                { cableTV }\n            );\n            return res.status(response.code).json(response);\n\n        } catch (error) {\n            console.log(`ERROR::: ${error}`);\n\n            const response = new Response(\n                false,\n                500,\n                'Server error, please try again later.'\n            );\n            return res.status(response.code).json(response);\n        }\n    };\n\n\n    /**\n     * @function getCableTVs (Get all cable tv).\n     **/\n    static getCableTVs = async (req, res) => {\n        try {\n            const cableTVs = await CableTVs.findAll();\n            if (!cableTVs.length) {\n                const response = new Response(\n                    false,\n                    404,\n                    \"No cable tv found.\"\n                );\n                return res.status(response.code).json(response);\n            }\n\n            const response = new Response(\n                true,\n                200,\n                'Cable TVs retrieved successfully.',\n                { cableTVs }\n            );\n            return res.status(response.code).json(response);\n\n        } catch (error) {\n            console.log(`ERROR::: ${error}`);\n\n            const response = new Response(\n                false,\n                500,\n                'Server error, please try again later.'\n            );\n            return res.status(response.code).json(response);\n        }\n    }\n\n\n    /**\n     * @function getCableTV, (To get a single cable TV).\n     **/\n    static getCableTV = async (req, res) => {\n        try {\n            const { code } = req.params;\n\n            const cableTV = await CableTVs.findOne({\n                where: { provider_id: code },\n            });\n            if (!cableTV) {\n                const response = new Response(\n                    false,\n                    404,\n                    \"Cable tv does not exist.\"\n                );\n                return res.status(response.code).json(response);\n            }\n\n            const response = new Response(\n                true,\n                200,\n                'Cable tv retrieved successfully.',\n                { cableTV }\n            );\n            return res.status(response.code).json(response);\n        } catch (error) {\n            console.log(`ERROR::: ${error}`);\n\n            const response = new Response(\n                false,\n                500,\n                'Server error, please try again later.'\n            );\n            return res.status(response.code).json(response);\n        }\n    };\n}\n\nexport default CableTVController;"],"mappings":"AAAA,YAAY;;AAACA,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,KAAA;AAAA;AAAAD,OAAA,CAAAE,OAAA;AAEb,IAAAC,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,kBAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAqE,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAN,OAAA,EAAAM,GAAA;AAAA,SAAAE,gBAAAF,GAAA,EAAAG,GAAA,EAAAV,KAAA,IAAAU,GAAA,GAAAC,cAAA,CAAAD,GAAA,OAAAA,GAAA,IAAAH,GAAA,IAAAV,MAAA,CAAAC,cAAA,CAAAS,GAAA,EAAAG,GAAA,IAAAV,KAAA,EAAAA,KAAA,EAAAY,UAAA,QAAAC,YAAA,QAAAC,QAAA,oBAAAP,GAAA,CAAAG,GAAA,IAAAV,KAAA,WAAAO,GAAA;AAAA,SAAAI,eAAAI,CAAA,QAAAC,CAAA,GAAAC,YAAA,CAAAF,CAAA,uCAAAC,CAAA,GAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAC,aAAAF,CAAA,EAAAG,CAAA,2BAAAH,CAAA,KAAAA,CAAA,SAAAA,CAAA,MAAAI,CAAA,GAAAJ,CAAA,CAAAK,MAAA,CAAAC,WAAA,kBAAAF,CAAA,QAAAH,CAAA,GAAAG,CAAA,CAAAG,IAAA,CAAAP,CAAA,EAAAG,CAAA,uCAAAF,CAAA,SAAAA,CAAA,YAAAO,SAAA,yEAAAL,CAAA,GAAAM,MAAA,GAAAC,MAAA,EAAAV,CAAA;AAErE,MAAM;EAAEW;AAAS,CAAC,GAAGC,eAAM;;AAE3B;AACA;AACA;AACA,MAAMC,iBAAiB,CAAC;AAEpB;AACJ;AACA;AAFInB,eAAA,CAFEmB,iBAAiB,mBAKI,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACvC,IAAI;IACA,MAAMC,WAAW,GAAGF,GAAG,CAACG,IAAI;IAC5B;;IAEA;IACA,MAAM;MAACC,KAAK;MAAEjC;IAAK,CAAC,GAAGkC,0BAAgB,CAACC,mBAAmB,CAACC,QAAQ,CAACL,WAAW,CAAC;IACjF,IAAIE,KAAK,EAAE;MACP,MAAMI,QAAQ,GAAG,IAAIC,iBAAQ,CACzB,KAAK,EACL,GAAG,EACF,GAAEL,KAAK,CAACM,OAAQ,EACrB,CAAC;MACD,OAAOT,GAAG,CAACU,MAAM,CAACH,QAAQ,CAACI,IAAI,CAAC,CAACC,IAAI,CAACL,QAAQ,CAAC;IACnD;IAEA,MAAMM,OAAO,GAAG,MAAMjB,QAAQ,CAACkB,MAAM,CAAC;MAAE,GAAG5C;IAAM,CAAC,CAAC;IACnD,IAAI,CAAC2C,OAAO,EAAE;MACV,MAAMN,QAAQ,GAAG,IAAIC,iBAAQ,CACzB,KAAK,EACL,GAAG,EACH,4BACJ,CAAC;MACD,OAAOR,GAAG,CAACU,MAAM,CAACH,QAAQ,CAACI,IAAI,CAAC,CAACC,IAAI,CAACL,QAAQ,CAAC;IACnD;IAEA,MAAMA,QAAQ,GAAG,IAAIC,iBAAQ,CACzB,IAAI,EACJ,GAAG,EACH,gCAAgC,EAChC;MAAEK;IAAQ,CACd,CAAC;IACD,OAAOb,GAAG,CAACU,MAAM,CAACH,QAAQ,CAACI,IAAI,CAAC,CAACC,IAAI,CAACL,QAAQ,CAAC;EAEnD,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACZY,OAAO,CAACC,GAAG,CAAE,YAAWb,KAAM,EAAC,CAAC;IAEhC,MAAMI,QAAQ,GAAG,IAAIC,iBAAQ,CACzB,KAAK,EACL,GAAG,EACH,uCACJ,CAAC;IACD,OAAOR,GAAG,CAACU,MAAM,CAACH,QAAQ,CAACI,IAAI,CAAC,CAACC,IAAI,CAACL,QAAQ,CAAC;EACnD;AACJ,CAAC;AAGD;AACJ;AACA;AAFI5B,eAAA,CApDEmB,iBAAiB,iBAuDE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACrC,IAAI;IACA,MAAMiB,QAAQ,GAAG,MAAMrB,QAAQ,CAACsB,OAAO,CAAC,CAAC;IACzC,IAAI,CAACD,QAAQ,CAACE,MAAM,EAAE;MAClB,MAAMZ,QAAQ,GAAG,IAAIC,iBAAQ,CACzB,KAAK,EACL,GAAG,EACH,oBACJ,CAAC;MACD,OAAOR,GAAG,CAACU,MAAM,CAACH,QAAQ,CAACI,IAAI,CAAC,CAACC,IAAI,CAACL,QAAQ,CAAC;IACnD;IAEA,MAAMA,QAAQ,GAAG,IAAIC,iBAAQ,CACzB,IAAI,EACJ,GAAG,EACH,mCAAmC,EACnC;MAAES;IAAS,CACf,CAAC;IACD,OAAOjB,GAAG,CAACU,MAAM,CAACH,QAAQ,CAACI,IAAI,CAAC,CAACC,IAAI,CAACL,QAAQ,CAAC;EAEnD,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACZY,OAAO,CAACC,GAAG,CAAE,YAAWb,KAAM,EAAC,CAAC;IAEhC,MAAMI,QAAQ,GAAG,IAAIC,iBAAQ,CACzB,KAAK,EACL,GAAG,EACH,uCACJ,CAAC;IACD,OAAOR,GAAG,CAACU,MAAM,CAACH,QAAQ,CAACI,IAAI,CAAC,CAACC,IAAI,CAACL,QAAQ,CAAC;EACnD;AACJ,CAAC;AAGD;AACJ;AACA;AAFI5B,eAAA,CAxFEmB,iBAAiB,gBA2FC,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACpC,IAAI;IACA,MAAM;MAAEW;IAAK,CAAC,GAAGZ,GAAG,CAACqB,MAAM;IAE3B,MAAMP,OAAO,GAAG,MAAMjB,QAAQ,CAACyB,OAAO,CAAC;MACnCC,KAAK,EAAE;QAAEC,WAAW,EAAEZ;MAAK;IAC/B,CAAC,CAAC;IACF,IAAI,CAACE,OAAO,EAAE;MACV,MAAMN,QAAQ,GAAG,IAAIC,iBAAQ,CACzB,KAAK,EACL,GAAG,EACH,0BACJ,CAAC;MACD,OAAOR,GAAG,CAACU,MAAM,CAACH,QAAQ,CAACI,IAAI,CAAC,CAACC,IAAI,CAACL,QAAQ,CAAC;IACnD;IAEA,MAAMA,QAAQ,GAAG,IAAIC,iBAAQ,CACzB,IAAI,EACJ,GAAG,EACH,kCAAkC,EAClC;MAAEK;IAAQ,CACd,CAAC;IACD,OAAOb,GAAG,CAACU,MAAM,CAACH,QAAQ,CAACI,IAAI,CAAC,CAACC,IAAI,CAACL,QAAQ,CAAC;EACnD,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACZY,OAAO,CAACC,GAAG,CAAE,YAAWb,KAAM,EAAC,CAAC;IAEhC,MAAMI,QAAQ,GAAG,IAAIC,iBAAQ,CACzB,KAAK,EACL,GAAG,EACH,uCACJ,CAAC;IACD,OAAOR,GAAG,CAACU,MAAM,CAACH,QAAQ,CAACI,IAAI,CAAC,CAACC,IAAI,CAACL,QAAQ,CAAC;EACnD;AACJ,CAAC;AAAA,IAAAiB,QAAA,GAAAvD,OAAA,CAAAE,OAAA,GAGU2B,iBAAiB","ignoreList":[]}