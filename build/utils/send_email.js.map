{"version":3,"file":"send_email.js","names":["_nodemailer","_interopRequireDefault","require","obj","__esModule","default","_defineProperty","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","t","i","_toPrimitive","r","e","Symbol","toPrimitive","call","TypeError","String","Number","SendEMail","userName","userEmail","otp","emailTransporter","nodemailer","createTransport","host","process","env","EMAIL_HOST","port","EMAIL_PORT","secure","auth","user","EMAIL_USERNAME","pass","EMAIL_PASSWORD","tls","rejectUnauthorized","emailData","from","EMAIL_FROM","to","subject","EMAIL_SUBJECT","html","emailBody","emailResponse","sendMail","_default","exports"],"sources":["../../src/utils/send_email.js"],"sourcesContent":["import nodemailer from 'nodemailer';\n\n\nclass SendEMail {\n\n    static handleSendMail = async (userName, userEmail, otp) => {\n        /**\n         *  Username:\tsupport@superpunters.com\n            Password:\tUse the email accountâ€™s password.\n            Incoming Server:\tserver71.web-hosting.com\n            IMAP Port: 993 POP3 Port: 995\n            Outgoing Server:\tserver71.web-hosting.com\n            SMTP Port: 465\n            IMAP, POP3, and SMTP require authentication.\n        * \n        */\n         // console.log(`EMAIL::: , ${process.env.EMAIL_HOST} \\n ${process.env.EMAIL_PORT} \\n ${process.env.EMAIL_USERNAME} \\n ${process.env.EMAIL_PASSWORD}`);\n         // console.log(`EMAIL::: , ${userEmail} \\n ${userName} \\n ${otp}`);\n\n        //  Creating a Transport\n        const emailTransporter = nodemailer.createTransport({\n            host: process.env.EMAIL_HOST,\n            port: process.env.EMAIL_PORT,\n            secure: true, // true for 465, false for other ports\n            auth: {\n                user: process.env.EMAIL_USERNAME,\n                pass: process.env.EMAIL_PASSWORD,\n            },\n            tls: {\n                rejectUnauthorized: false\n            },\n        });\n\n        const emailData = {\n            from: process.env.EMAIL_FROM,\n            to: userEmail,\n            subject: process.env.EMAIL_SUBJECT,\n            html: emailBody(userName, otp),\n        }\n\n        //  Send the Mail now with the \"emailTransporter\" created.\n        const emailResponse = await emailTransporter.sendMail(emailData);\n        // console.log(\"EMAIL RESPONSE::: \", emailResponse);\n        return await emailTransporter.sendMail(emailData);\n    }\n}\n\n\nconst emailBody = (userName, otp) => {\n    return `\n        <html lang=\"en\">\n            <head>\n                <title>Email Verification</title> \n                <style>\n                    body {\n                        width: 100%;\n                    }\n                    .container {\n                        margin: 0 auto;\n                        width: 700px;\n                        background-color: #ffffff;\n                        color: dimgrey;\n                        border: 1px solid #cbcbcb;\n                        padding: 20px;\n                    }\n                    h2 {\n                        text-align: center;\n                    }\n                    .otp_text {\n                        color: black;\n                        font-size: 20px;\n                        font-weight: bold;\n                        text-align: center;\n                    }\n                    .text_decoration {\n                        text-decoration: none;\n                    }\n                </style>   \n            </head>\n            \n            <body>\n                <div class=\"container\">\n                    <img src=\"../assets/images/app_logo1.png\" height=\"50\" alt=\"Super Punter Logo\" />\n                    <h2>Verify OTP</h2>\n                    <p>\n                        Thanks ${userName} for signing up on Talk Deal! <br />\n                        Use the following OTP to complete your SignUp process. Kindly know that this OTP is valid for 15 minutes.\n                    </p>\n                    \n                    <br />\n                    \n                    <h1 class=\"otp_text\">${otp}</h1>\n                    \n                    <p>\n                        For more enquiry and assistance, kindly \n                        <a href=\"mailto:info@talkdeal.com\" class=\"text_decoration\">contact us<a/>.\n                    </p>\n                <div>\n            </body>    \n        </html>   \n    `\n}\n\nexport default SendEMail;"],"mappings":";;;;;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,gBAAAH,GAAA,EAAAI,GAAA,EAAAC,KAAA,IAAAD,GAAA,GAAAE,cAAA,CAAAF,GAAA,OAAAA,GAAA,IAAAJ,GAAA,IAAAO,MAAA,CAAAC,cAAA,CAAAR,GAAA,EAAAI,GAAA,IAAAC,KAAA,EAAAA,KAAA,EAAAI,UAAA,QAAAC,YAAA,QAAAC,QAAA,oBAAAX,GAAA,CAAAI,GAAA,IAAAC,KAAA,WAAAL,GAAA;AAAA,SAAAM,eAAAM,CAAA,QAAAC,CAAA,GAAAC,YAAA,CAAAF,CAAA,uCAAAC,CAAA,GAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAC,aAAAF,CAAA,EAAAG,CAAA,2BAAAH,CAAA,KAAAA,CAAA,SAAAA,CAAA,MAAAI,CAAA,GAAAJ,CAAA,CAAAK,MAAA,CAAAC,WAAA,kBAAAF,CAAA,QAAAH,CAAA,GAAAG,CAAA,CAAAG,IAAA,CAAAP,CAAA,EAAAG,CAAA,uCAAAF,CAAA,SAAAA,CAAA,YAAAO,SAAA,yEAAAL,CAAA,GAAAM,MAAA,GAAAC,MAAA,EAAAV,CAAA;AAGpC,MAAMW,SAAS,CAAC;AA0CfpB,eAAA,CA1CKoB,SAAS,oBAEa,OAAOC,QAAQ,EAAEC,SAAS,EAAEC,GAAG,KAAK;EACxD;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACS;EACA;;EAED;EACA,MAAMC,gBAAgB,GAAGC,mBAAU,CAACC,eAAe,CAAC;IAChDC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,UAAU;IAC5BC,IAAI,EAAEH,OAAO,CAACC,GAAG,CAACG,UAAU;IAC5BC,MAAM,EAAE,IAAI;IAAE;IACdC,IAAI,EAAE;MACFC,IAAI,EAAEP,OAAO,CAACC,GAAG,CAACO,cAAc;MAChCC,IAAI,EAAET,OAAO,CAACC,GAAG,CAACS;IACtB,CAAC;IACDC,GAAG,EAAE;MACDC,kBAAkB,EAAE;IACxB;EACJ,CAAC,CAAC;EAEF,MAAMC,SAAS,GAAG;IACdC,IAAI,EAAEd,OAAO,CAACC,GAAG,CAACc,UAAU;IAC5BC,EAAE,EAAEtB,SAAS;IACbuB,OAAO,EAAEjB,OAAO,CAACC,GAAG,CAACiB,aAAa;IAClCC,IAAI,EAAEC,SAAS,CAAC3B,QAAQ,EAAEE,GAAG;EACjC,CAAC;;EAED;EACA,MAAM0B,aAAa,GAAG,MAAMzB,gBAAgB,CAAC0B,QAAQ,CAACT,SAAS,CAAC;EAChE;EACA,OAAO,MAAMjB,gBAAgB,CAAC0B,QAAQ,CAACT,SAAS,CAAC;AACrD,CAAC;AAIL,MAAMO,SAAS,GAAGA,CAAC3B,QAAQ,EAAEE,GAAG,KAAK;EACjC,OAAQ;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiCF,QAAS;AAC1C;AACA;AACA;AACA;AACA;AACA,2CAA2CE,GAAI;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AAAA,IAAA4B,QAAA,GAAAC,OAAA,CAAArD,OAAA,GAEcqB,SAAS","ignoreList":[]}